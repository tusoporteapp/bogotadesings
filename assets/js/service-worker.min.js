"use strict";const version="v2::",offlineFundamentals=["/assets/js/","/assets/js/index.html"];self.addEventListener("install",(e=>{e.waitUntil(caches.open("v2::fundamentals").then((e=>e.addAll(offlineFundamentals))).then((()=>console.log("WORKER: install completed"))))})),self.addEventListener("fetch",(e=>{"GET"===e.request.method&&e.respondWith(caches.match(e.request).then((t=>{const n=fetch(e.request).then((function(t){const n=t.clone();return caches.open("v2::pages").then((function(t){t.put(e.request,n)})),t}),s).catch(s);return t||n;function s(){return console.log("WORKER: fetch request failed in both cache and network."),new Response("<h1>Service Unavailable</h1>",{status:503,statusText:"Service Unavailable",headers:new Headers({"Content-Type":"text/html"})})}})))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.filter((e=>!e.startsWith("v2::"))).map((e=>caches.delete(e)))))).then((()=>console.log("WORKER: activate completed."))))}));